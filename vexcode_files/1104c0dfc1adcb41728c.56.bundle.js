(window.webpackJsonpwebapp=window.webpackJsonpwebapp||[]).push([[56],{"./src/HardwareInterface/IQEXPV5/V5/V5VexSerial.ts":function(t,n,e){"use strict";e.r(n),e.d(n,"V5VexSerial",function(){return a});var n=e("./node_modules/@rm-vca/logger/dist/index.js"),g=e("./src/HardwareInterface/types/HWEnums.ts"),r=e("./src/HardwareInterface/IQEXPV5/V5/V5Interface.ts"),b=e("./src/HardwareInterface/IQEXPV5/VexSerialDevices/index.ts"),k=e("./src/HardwareInterface/VexVersion.ts"),m=e("./src/widget/Modal.tsx"),w=e("./src/GlobalEventSystem.ts"),V=e("./src/AppInfo.ts"),S=e("./src/i18n/i18n.ts"),U=e("./src/dispatcher.ts"),I=e("./src/HardwareInterface/IQEXPV5/VexSerialDevices/errors.ts"),O=e("./src/targetPlatform.ts"),D=e("./src/helpers.ts"),_=e("./src/HardwareInterface/IQEXPV5/VexSerialDevices/VexSerialDevice.ts");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){E=function(){return a};var a={},c=Object.prototype,s=c.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",p=e.asyncIterator||"@@asyncIterator",f=e.toStringTag||"@@toStringTag";function n(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{n({},"")}catch(a){n=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o,i,a,c,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),r=new S(r||[]);return u(t,"_invoke",{value:(o=e,i=n,a=r,c="suspendedStart",function(e,t){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===e)throw t;return x()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;r=h(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(n){if(n===l)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=h(o,i,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}})}),t}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=d;var l={};function v(){}function y(){}function t(){}var e={},o=(n(e,r,function(){return this}),Object.getPrototypeOf),o=o&&o(o(C([]))),i=(o&&o!==c&&s.call(o,r)&&(e=o),t.prototype=v.prototype=Object.create(e));function g(e){["next","throw","return"].forEach(function(t){n(e,t,function(e){return this._invoke(t,e)})})}function b(a,c){var t;u(this,"_invoke",{value:function(n,r){function e(){return new c(function(e,t){!function t(e,n,r,o){var i,e=h(a[e],a,n);return"throw"!==e.type?(n=(i=e.arg).value)&&"object"==L(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):c.resolve(n).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,o)}):void o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}function C(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:x}}function x(){return{value:void 0,done:!0}}return u(i,"constructor",{value:y.prototype=t,configurable:!0}),u(t,"constructor",{value:y,configurable:!0}),y.displayName=n(t,f,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,t):(e.__proto__=t,n(e,f,"GeneratorFunction")),e.prototype=Object.create(i),e},a.awrap=function(e){return{__await:e}},g(b.prototype),n(b.prototype,p,function(){return this}),a.AsyncIterator=b,a.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new b(d(e,t,n,r),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(i),n(i,f,"Generator"),n(i,r,function(){return this}),n(i,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}function s(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return n(e),0}c.done?t(s):Promise.resolve(s).then(r,o)}function C(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=c.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(n),t=(e=r?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){e=function(e){if("object"!==L(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!==L(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"===L(e)?e:String(e)}var P=n.getLogger("V5VexSerial"),a=(P.setLevel(P.levels.WARN),P.setHistoryLogger("HWInterface"),function(e){var t=u;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e);var n,r,o,i,a,c,s,l,p,f,d,h,v,y=N(u);function u(){var t,e=this;if(!(e instanceof u))throw new TypeError("Cannot call a class as a function");return W(x(t=y.call(this)),"_serial",new b.VexSerialDeviceV5),W(x(t),"lastSerialState",b.VexSerialDeviceConnectionStates.Disconnected),W(x(t),"onConnectedToInvalidPort",function(){var e=S.i18n.t("Incorrect WebSerial Port",{platform:S.i18n.t("V5")});m.MODALCONTROL.showWebSerialPrompt(e,null,t.onControlButtonClick)}),W(x(t),"onConnectedToFieldController",function(){m.MODALCONTROL.close(),m.MODALCONTROL.showSmartFieldControllerPrompt()}),W(x(t),"lastUserPortState",b.VexSerialDeviceConnectionStates.Disconnected),t.onSerialStateChange=t.onSerialStateChange.bind(x(t)),t._serial.on("connectionStateChange",t.onSerialStateChange),t.onSerialStateChangeUserPort=t.onSerialStateChangeUserPort.bind(x(t)),t._serial.on("connectionStateChangeUserPort",t.onSerialStateChangeUserPort),t.onConnectedToInvalidPort=t.onConnectedToInvalidPort.bind(x(t)),t._serial.on("connectedToInvalidPort",t.onConnectedToInvalidPort),t.onControlButtonClick=t.onControlButtonClick.bind(x(t)),t.onConnectedToFieldController=t.onConnectedToFieldController.bind(x(t)),t._serial.on("connectedToFieldController",t.onConnectedToFieldController),t.onInterfaceDeviceInfoUpdated=t.onInterfaceDeviceInfoUpdated.bind(x(t)),t._serial.on("deviceInfoUpdated",t.onInterfaceDeviceInfoUpdated),t._serial.on("receivedUserData",function(e){P.debug("print to terminal:",e),w.fireEvent("HWInterface.TerminalDataUpdate",e)}),t}return t=u,e=[{key:"onSerialStateChange",value:function(e){var t;P.debug("onSerialStateChange - new state:",b.VexSerialDeviceConnectionStates[e]),this.lastSerialState!==e&&(this.lastSerialState=e,t=this.getConnectionState(),this.fireEvent("connectionStateChange",t),w.fireEvent("HWInterface.ConnectionStateChange",t),e===b.VexSerialDeviceConnectionStates.Connected?"brain"===V.appState.getAppState().hardwareTarget&&this.onBrainConnected():e===b.VexSerialDeviceConnectionStates.Disconnected&&this.onBrainDisconnected())}},{key:"onInterfaceDeviceInfoUpdated",value:function(e){P.debug("onInterfaceDeviceInfoUpdated");var t=this.getBrainInfo();w.fireEvent("HWInterface.BrainInfoUpdated",t)}},{key:"onControlButtonClick",value:(v=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openConnection();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"onHardwareTargetChange",value:function(e){var t=this;"arm"===e?this.lastSerialState!==b.VexSerialDeviceConnectionStates.Disconnected&&(this.fireEvent("brainDisconnected"),this.lastSerialState=b.VexSerialDeviceConnectionStates.Disconnected,w.fireEvent("HWInterface.ConnectionStateChange",g.BrainConnectionState.Disconnected)):setTimeout(function(){var e=t._serial.connectionState,e=(t.lastSerialState!==e&&(t.lastSerialState=e,w.fireEvent("HWInterface.ConnectionStateChange",t.getConnectionState())),t.getBrainInfo());P.debug("newBrainInfo:",e),t.isBrainConnected()&&w.fireEvent("HWInterface.BrainInfoUpdated",e)},250)}},{key:"openConnection",value:(h=C(E().mark(function e(){var t;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._serial.isSupported){e.next=3;break}return P.error("WebSerial is not supported on this system"),e.abrupt("return");case 3:return e.prev=3,P.debug("Attempting to open serial port connection"),e.next=7,this._serial.openConnection();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),P.debug("Error attempting to open serial port connection: ",e.t0),e.t0 instanceof Error&&"NetworkError"===e.t0.name&&e.t0.message.includes("Failed to open serial port.")&&(t=S.i18n.t("Already Connected WebSerial Port",{platform:S.i18n.t("V5")}),m.MODALCONTROL.alert(t));case 13:case"end":return e.stop()}},e,this,[[3,9]])})),function(){return h.apply(this,arguments)})},{key:"openEstablishedConnection",value:(d=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._serial.isSupported){e.next=3;break}return P.error("WebSerial is not supported on this system"),e.abrupt("return");case 3:return e.abrupt("return",this._serial.openEstablishedConnection());case 4:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"closeConnection",value:(f=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._serial.isSupported){e.next=3;break}return P.error("WebSerial is not supported on this system"),e.abrupt("return");case 3:return e.next=5,this._serial.closeConnection();case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"getConnectionState",value:function(){return this._serial.connectionState===b.VexSerialDeviceConnectionStates.Connected?g.BrainConnectionState.Connected:g.BrainConnectionState.Disconnected}},{key:"getBrainInfo",value:function(){var e=this._serial.getBrainInfo(),t=e.brainVersion?k.VexVersion.fromString(e.brainVersion.toInternalString()):k.VexVersion.fromString("0.0.0"),n=t&&"0.0.0.b0"!==t.toInternalString(),r="V5Controller"===e.deviceType?g.VexDeviceType.VEXV5_Controller:g.VexDeviceType.VEXV5;return{serial:e.serial,version:t,versionFW:t,name:e.name,team:e.team,deviceType:r,connectionMethod:e.connectionType,brainConnected:e.isBrainConnected,needsFWUpdate:n?e.updateNeededBrain?g.UpdateNeededOptions.NeedsUpdate:g.UpdateNeededOptions.UpToDate:e.isDFUMode?g.UpdateNeededOptions.NeedsUpdate:g.UpdateNeededOptions.Unsure,canUpdate:this.canUpdateFirmware(),battery:e.battery,batteryLow:!1}}},{key:"getTargetBrainInfo",value:function(){throw new Error("Method not implemented.")}},{key:"setBrainName",value:(p=C(E().mark(function e(t){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._serial.setBrainName(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"setTeamNumber",value:(l=C(E().mark(function e(t){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._serial.setBrainTeamNumber(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"play",value:(s=C(E().mark(function e(t){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._serial.play(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"stop",value:(c=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._serial.stop();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"downloadProgram",value:(a=C(E().mark(function e(t,n,r,o,i){var a,c,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P.info("downloadProgram",t,n,r),a="Blocks"===V.appState.getAppState().mode,c="cpp"===r,s=a?b.VEXcodeIcons.VEXcodeBlocks:c?b.VEXcodeIcons.VEXcodeCPP:b.VEXcodeIcons.VEXcodePython,s={slot:t,name:n,description:"",icon:s,ide:a?"Blocks":c?"C++":"Python",ports:[],triports:[],controller1:null,controller2:null,language:r},e.abrupt("return",this._serial.downloadProgram(o,s,function(e){var t=e.progress,e=e.state;i({progress:t,step:e})}));case 7:case"end":return e.stop()}},e,this)})),function(e,t,n,r,o){return a.apply(this,arguments)})},{key:"forcePythonVMDownload",value:(i=C(E().mark(function e(t){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){t&&t({progress:e.progress,step:_.DownloadState.DownloadingVM})},e.next=3,this._serial.checkAndInstallPythonVm(0,0,n,!0);case 3:return n=e.sent,e.abrupt("return",0===(null==n?void 0:n.err));case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"canUpdateFirmware",value:function(){return!0}},{key:"updateFirmware",value:(o=C(E().mark(function e(t){var r,o,i,n,a,c,s;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P.debug("starting brain firmware update..."),r=new U.DispatcherEvent,o=new U.DispatcherEvent,i=null,n=function(e){i?(i(!0),i=null):(P.warn("should not be here if the resolver was not set"),o.fire({isFirstConnect:!1,isDfu:!1}))},m.MODALCONTROL.showWebBrainUpdateProgress(r,o,n),n=function(e,t,n){P.debug("progressHandler:",t,b.VEXBrainUpdateStates[e],n),r.fire({state:e,percent:t,msg:n})},a=function(n,r){return new Promise(function(e,t){i=e,o.fire({isFirstConnect:n,isDfu:r})})},e.next=11,Object(D.waitms)(5);case 11:return e.next=13,this._serial.updateFirmware(n,a);case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),P.error(e.t0),m.MODALCONTROL.close(),c="WebSerial Update Failed - unknown error",e.t0 instanceof I.WebSerialUnsupportedError?c="WebSerial Update Failed - webserial not supported":e.t0 instanceof I.NoBrainConnectedError?c="WebSerial Update Failed - no device":e.t0 instanceof I.OperationNotSupportedError?c="WebSerial Update Failed - not supported":e.t0 instanceof I.ErrorUpdatingBrainGolden?c="WebSerial Update Failed - recovery update failed":e.t0 instanceof I.ErrorUpdatingBrainBoot?c="WebSerial Update Failed - main update failed":e.t0 instanceof I.ErrorUpdatingBrainAssets&&(c="WebSerial Update Failed - asset update failed"),s=S.i18n.t(O.currentTargetName),m.MODALCONTROL.showWebSerialUpdateError(S.i18n.t(c,{platform:s}),S.i18n.t("WebSerial Update Failed - retry message",{platform:s}),"https://kb.vex.com/hc/en-us/articles/5144829658900-Troubleshooting-Connecting-to-Web-based-VEXcode-V5"),e.abrupt("return",!1);case 26:case"end":return e.stop()}},e,this,[[0,16]])})),function(e){return o.apply(this,arguments)})},{key:"supportsUserPort",get:function(){return!0}},{key:"requiresUserPortConnectionProcess",get:function(){return this._serial.isDeviceBrain}},{key:"openConnectionUserPort",value:(r=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._serial.openConnectionUserPort());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"closeConnectionUserPort",value:(n=C(E().mark(function e(){return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._serial.closeConnectionUserPort();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getConnectionStateUserPort",value:function(){return this._serial.isBrainConnected?this._serial.isDeviceBrain?(e=this._serial.connectionStateUserPort,this.isBrainConnected()&&e===b.VexSerialDeviceConnectionStates.Connected?g.BrainConnectionState.Connected:g.BrainConnectionState.Disconnected):g.BrainConnectionState.Connected:g.BrainConnectionState.Disconnected;var e}},{key:"sendDataUserPort",value:function(e){this._serial.sendDataUserPort(e)}},{key:"onSerialStateChangeUserPort",value:function(e){P.debug("onSerialStateChange - new state:",b.VexSerialDeviceConnectionStates[e]),this.lastUserPortState!==e&&(this.lastUserPortState=e,e=this.getConnectionStateUserPort(),this.fireEvent("connectionStateChange",e),w.fireEvent("HWInterface.ConnectionStateChangeUserPort",e))}},{key:"getLowLevelLogger",value:function(){return null}}],B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.V5Interface))}}]);